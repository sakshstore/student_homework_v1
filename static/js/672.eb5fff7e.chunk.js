"use strict";(self.webpackChunklearn22=self.webpackChunklearn22||[]).push([[672],{672:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(4165),a=n(5861),s=n(9439),c=n(2791),o=n(7689),i=n(9159),u=n(1503),d=n(4294),l=n(3543),h=n(3855),x=n(1473),p=n(5818),j=n(3721),Z=n(890),f=n(1131),m=n(383),v=n(3260),k=n(184);function w(){var e=(0,o.UO)().sr,t=(0,c.useState)(""),n=(0,s.Z)(t,2),w=n[0],g=n[1],b=(0,c.useState)([]),S=(0,s.Z)(b,2),y=S[0],C=S[1],H=(0,c.useState)([]),z=(0,s.Z)(H,2),A=z[0],B=z[1],_=(0,c.useState)([]),N=(0,s.Z)(_,2),D=N[0],F=N[1],I=(0,c.useState)(""),E=(0,s.Z)(I,2),L=E[0],M=E[1],O=(0,c.useState)(""),P=(0,s.Z)(O,2),U=P[0],W=P[1],q=(0,c.useState)(!1),G=(0,s.Z)(q,2),J=G[0],K=G[1],Q=(0,c.useContext)(i.Z),R=(0,c.useState)(),T=(0,s.Z)(R,2),V=T[0],X=T[1],Y=((0,o.s0)(),Q.token),$=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={sr:e,homework:L,subject:U},t.next=3,u.Z.post("setHomework",n,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 3:a=t.sent,ne(e),s=a.data,g(s.message),K(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ee=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.post("delete_homework ",t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 2:n=e.sent,C(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status="Completed",t.remark=".",e.next=4,u.Z.post("homework_mark_complete",t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 4:n=e.sent,C(n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("getHomework/"+t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 3:return n=e.sent,C(n.data),e.next=7,u.Z.get("student/"+t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 7:a=e.sent,X(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("master/Subjects/"+t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 3:n=e.sent,B(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("master/Homeworks/"+t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Y}});case 3:n=e.sent,F(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){ne(e),re(e),ae(e)}),[]),void 0==V?"":(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("strong",{children:["[ ",V.sr," ]    ",V.name," s/o   ",V.father_name]}),(0,k.jsx)("hr",{}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(p.Z,{expandIcon:(0,k.jsx)(f.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,k.jsx)(Z.Z,{children:"New Homework"})}),(0,k.jsxs)(j.Z,{children:[(0,k.jsx)("div",{className:"mb-3",children:(0,k.jsx)(h.Z.Select,{onChange:function(e){return W(e.target.value)},children:A.map((function(e){return(0,k.jsx)("option",{value:e,children:e},e)}))})}),(0,k.jsxs)("div",{className:"mb-3",children:[(0,k.jsx)(h.Z.Label,{children:"HomeWork"}),(0,k.jsx)(h.Z.Select,{onChange:function(e){return M(e.target.value)},children:D.map((function(e){return(0,k.jsx)("option",{value:e.id,children:e.homework},e.id)}))})]}),(0,k.jsxs)("div",{className:"mb-3",children:[(0,k.jsx)(d.Z,{onClick:$,size:"large",variant:"contained",children:"Set Homework"}),(0,k.jsx)(l.Z,{open:J,autoHideDuration:2e3,onClose:function(){return K(!1)},message:w})]})]})]}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(p.Z,{expandIcon:(0,k.jsx)(f.Z,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:(0,k.jsx)(Z.Z,{children:"Past Homework"})}),(0,k.jsx)(j.Z,{children:(0,k.jsxs)("table",{className:"table  table-auto  ",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"   Subject "}),(0,k.jsx)("th",{children:"  Homework  "}),(0,k.jsx)("th",{children:"  Start Date  "}),(0,k.jsx)("th",{children:" Create Date  "}),(0,k.jsx)("th",{children:"  Status "}),(0,k.jsx)("th",{children:" Mark complete  "}),(0,k.jsx)("th",{children:" Delete  "})]})}),(0,k.jsx)("tbody",{children:y.map((function(e,t){return(0,k.jsxs)("tr",{children:[(0,k.jsxs)("td",{children:["   ",e.subject," "]}),(0,k.jsxs)("td",{children:["   ",e.homework," "]}),(0,k.jsxs)("td",{children:["   ",e.created_at," "]}),(0,k.jsxs)("td",{children:["    ","Completed"===e.status&&(0,k.jsx)(k.Fragment,{children:e.updated_at}),"."]}),(0,k.jsxs)("td",{children:["   ",e.status," "]}),(0,k.jsxs)("td",{children:["      ",(0,k.jsxs)(d.Z,{onClick:function(){return te(e)},variant:"contained",children:[" ",(0,k.jsx)(v.Z,{}),"    "]})]}),(0,k.jsxs)("td",{children:["   ",(0,k.jsxs)(d.Z,{onClick:function(){return ee(e)},variant:"contained",children:[" ",(0,k.jsx)(m.Z,{})]})]})]},t)}))})]})})]})]})}}}]);
//# sourceMappingURL=672.eb5fff7e.chunk.js.map