"use strict";(self.webpackChunklearn22=self.webpackChunklearn22||[]).push([[759],{4759:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(1413),s=n(4165),a=n(5861),c=n(9439),o=n(7689),i=n(1087),u=n(2791),l=n(4294),d=n(8308),h=n(3543),p=n(4554),f=n(1503),m=n(9159),x=n(184);function v(){var e=(0,o.UO)().homework_id,t=(0,u.useState)(""),n=(0,c.Z)(t,2),v=n[0],Z=n[1],k=(0,u.useState)(!1),j=(0,c.Z)(k,2),C=j[0],g=j[1],w=(0,u.useState)(),b=(0,c.Z)(w,2),y=b[0],S=b[1],N=(0,u.useState)([]),_=(0,c.Z)(N,2),A=_[0],B=_[1],z=(0,u.useState)("%"),q=(0,c.Z)(z,2),F=(q[0],q[1]),H=(0,u.useState)(!1),U=(0,c.Z)(H,2),V=U[0],D=U[1],E=(0,u.useState)(1),L=(0,c.Z)(E,2),O=L[0],T=L[1],G=(0,u.useState)(),I=(0,c.Z)(G,2),J=I[0],K=I[1],M=(0,o.s0)(),P=(0,u.useContext)(m.Z),Q=P.token,R=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("students/"+O+"/"+J,{headers:{Accept:"application/json",Authorization:"Bearer "+Q}});case 3:t=e.sent,B(t.data),D(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){null===P.login_status?M("/login"):Y(e)}),[]);var W=function(e){var t=e.target,n=t.name,s=t.checked;if("allselect"===n){var a=A.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isChecked:s})}));B(a)}else{var c=A.map((function(e){return e.sr===n?(0,r.Z)((0,r.Z)({},e),{},{isChecked:s}):e}));B(c)}},X=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(){var n,r,a,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=A.filter((function(e){return!0===e.isChecked})),r={homework_id:e,Students:n},t.next=4,f.Z.post("hw/setBulkHomework",r,{headers:{"content-type":"text/json",Authorization:"Bearer "+Q}});case 4:a=t.sent,c=a.data,Z(c.message),g(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("master/homework/"+t,{headers:{"content-type":"text/json",Authorization:"Bearer "+Q}});case 3:n=e.sent,S(n.data),D(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return void 0===e?(0,x.jsx)(x.Fragment,{children:" "}):V?(0,x.jsxs)("div",{className:"sakshmb",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)("h4",{children:["  ",y.homework,"  "]}),(0,x.jsxs)(p.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,x.jsx)(d.Z,{className:"mr5",required:!0,label:"Type Class",id:"type_class",onChange:function(e){return T(e.target.value)},autoFocus:!0}),(0,x.jsx)(d.Z,{className:"mr5",required:!0,label:"Student Name",id:"type_studentname",value:J,onChange:function(e){return K(e.target.value)}}),(0,x.jsx)(l.Z,{onClick:R,variant:"contained",children:"Search Students"})]})]}),(0,x.jsx)("hr",{}),(0,x.jsx)("input",{type:"checkbox",name:"allselect",checked:!A.some((function(e){return!0!==(null===e||void 0===e?void 0:e.isChecked)})),onChange:W}),(0,x.jsx)("table",{className:"table  table-auto  ",children:(0,x.jsx)("tbody",{children:A.map((function(e,t){return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("th",{children:[" ",(0,x.jsx)("input",{type:"checkbox",name:e.sr,checked:(null===e||void 0===e?void 0:e.isChecked)||!1,onChange:W})]}),(0,x.jsxs)("td",{children:[" ",e.isChecked?"true":"false","  ",e.sr," "]}),(0,x.jsxs)("td",{children:["   ",e.name," "]}),(0,x.jsxs)("td",{children:["   ",e.father_name," "]}),(0,x.jsxs)("td",{children:["   ",e.mother_name," "]}),(0,x.jsx)("td",{children:(0,x.jsx)(i.rU,{className:"btn btn-outline-success",to:"student/".concat(e.sr),children:"View"})})]},t)}))})}),(0,x.jsx)(l.Z,{onClick:X,variant:"contained",children:"Asign "}),(0,x.jsx)(h.Z,{open:C,autoHideDuration:2e3,onClose:function(){return g(!1)},message:v})]}):"Loading... please wait "}}}]);
//# sourceMappingURL=759.14b58420.chunk.js.map